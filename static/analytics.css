/* --- ANALYTICS-SPECIFIC STYLES --- */
/* These rules apply ONLY to the analytics.html page. */


/* --- MAIN LAYOUT & TOP ROW --- */
/* Defines the primary layout grid for the analytics page. */

/* Main container for all content on the analytics page. 
   Applied to: <div class="main-content analytics-page"> */
.analytics-page {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
    justify-items: center;
}

/* DEPRECATED in the provided HTML, but would be a flex container for the top section 
   (filter controls and main chart). */
.analytics-top-row {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    align-items: stretch;
    flex-direction: row;
}

/* DEPRECATED in the provided HTML. Styles the filter controls card on the left. */
.analytics-top-row .analytics-controls {
    flex: 1 1 320px;
    display: flex;
    justify-content: flex-start;
}

/* DEPRECATED in the provided HTML. Styles the large line chart container on the right. */
.analytics-top-row .chart-container-large {
    flex: 2 1 60%;
    min-height: 700px;
}


/* --- FILTER CONTROLS CARD --- */
/* Styles for the "Adjust Filters" card.
   Applied to: <div class="analytics-controls card"> */

.analytics-controls {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: flex-start; 
    align-items: flex-start; 
    gap: 20px;
    padding: 20px;
    background-color: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(5px);
    border-radius: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
}

/* Heading inside the filter controls card.
   Applied to: <h3>Adjust Filters</h3> */
.analytics-controls h3 {
    width: 100%; 
    text-align: center;
    margin-top: 0;
    margin-bottom: 10px;
}

/* Container for a single filter group (e.g., date range picker, parameters).
   Applied to: <div class="control-group"> */
.control-group {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    border: 1px solid white;
    gap: 10px;
    padding: 10px;
    border-radius: 20px;
    min-height: 120px;
}

/* Labels for each control group.
   Applied to: <label for="dateRangePicker">, etc. */
.control-group label {
    font-weight: 600;
    margin-bottom: 8px;
    color: #333;
    text-align: left;
}

/* Container for the start and end time pickers.
   Applied to: <div class="time-picker-group"> */
.time-picker-group {
    display: flex;
    align-items: center;
    gap: 8px;
}

/* The "to" text between the time pickers.
   Applied to: <span>to</span> */
.time-picker-group span {
    font-weight: 600;
    color: #555;
}

/* Input fields for start and end time.
   Applied to: <input id="timePickerStart"> and <input id="timePickerEnd"> */
.time-picker-input {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 8px;
    background-color: #fff;
    width: 120px;
    text-align: center;
}

/* General styling for input fields and select dropdowns in the filter card.
   Applied to: #dateRangePicker, #intervalSelector, #compareDateRangePicker, #reportType */
#dateRangePicker, #intervalSelector, #compareDateRangePicker, #reportType, #dataRetention {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 8px;
    min-width: 200px;
    background-color: #fff;
}

/* Container for the parameter checkboxes (Temp, pH, etc.).
   Applied to: <div class="parameter-checkboxes"> */
.parameter-checkboxes {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
}

/* Individual checkbox labels.
   Applied to: <label><input type="checkbox"...> Temp</label> */
.parameter-checkboxes label {
    display: flex;
    align-items: center;
    gap: 5px;
    font-weight: normal;
}


/* --- HISTORICAL DATA CHART --- */
/* Styles for the large line chart.
   Applied to: <div class="chart-container-large card"> */

.chart-container-large {
    height: 700px;
    background-color: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(5px);
    border-radius: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    justify-content: flex-start;
}

/* The canvas element where the chart is drawn.
   Applied to: <canvas id="historicalChart"></canvas> */
#historicalChart {
    min-height: 350px;
    padding: 0;
    margin: 0;  
    border: none;
    box-shadow: none; 
}


/* --- HISTORICAL DATA TABLE --- */
/* Styles for the main data table section.
   Applied to: <div class="table-container card"> */

.table-container {
    padding: 20px;
    background-color: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(5px);
    border-radius: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
}

/* Heading for the data table.
   Applied to: <h3>Historical Data</h3> */
.table-container h3 {
    text-align: left;
    margin-top: 0;
    margin-bottom: 15px;
}

/* Wrapper to enable vertical scrolling for the table.
   Applied to: <div class="table-wrapper"> */
.table-wrapper {
    overflow-y: auto;
    border: 1px solid #ddd;
    border-radius: 8px;
}

/* The main data table itself.
   Applied to: <table id="historicalDataTable"> */
#historicalDataTable {
    width: 100%;
    border-collapse: collapse;
}

/* Table header cells (th) and data cells (td). */
#historicalDataTable th, #historicalDataTable td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid #ddd;
}

/* Makes the table header sticky during vertical scroll. */
#historicalDataTable th {
    background-color: #f2f2f2;
    position: sticky;
    top: 0;
    z-index: 1;
}

/* Removes the bottom border from the last row's cells. */
#historicalDataTable tr:last-child td {
    border-bottom: none;
}

/* Adds a hover effect to table rows. */
#historicalDataTable tr:hover {
    background-color: #f9f9f9;
}

/* Container for the pagination buttons below the table.
   Applied to: <div class="pagination-controls"> */
.pagination-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 15px;
    gap: 10px;
}

/* "Previous" and "Next" buttons for pagination.
   Applied to: <button id="prevPageBtn"> and <button id="nextPageBtn"> */
.pagination-controls button {
    padding: 8px 16px;
    border-radius: 5px;
    border: 1px solid #ccc;
    cursor: pointer;
    background-color: #fff;
}

/* Styles for disabled pagination buttons. */
.pagination-controls button:disabled {
    cursor: not-allowed;
    opacity: 0.5;
}


/* --- QUALITY BADGES --- */
/* Styles for the colored badges indicating water quality (Good, Poor, etc.).
   Applied to elements like: <div id="scenario-prediction" class="quality-badge ..."> */

.quality-badge {
    padding: 4px 10px;
    border-radius: 12px;
    color: white;
    font-weight: 600;
    font-size: 0.9em;
    text-align: center;
    display: inline-block;
    min-width: 70px;
}

.quality-good { background-color: #28a745; }
.quality-average { background-color: #ffc107; color: #333; }
.quality-poor { background-color: #dc3545; }
.quality-bad { background-color: #343a40; }
.quality-unknown { background-color: #6c757d; }


/* --- REPORT GENERATOR --- */
/* Styles for the "Export as PDF/CSV" card.
   Applied to: <div class="report-generator card"> */

.report-generator {
    padding: 20px;
    background-color: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(5px);
    border-radius: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    justify-content: flex-start;
}

/* Heading for the report generator card.
   Applied to: <h3>Report Generator</h3> */
.report-generator h3 {
    text-align: left;
    margin-top: 0;
    margin-bottom: 15px;
}

/* Container for the report controls.
   Applied to: <div class="report-controls"> */
.report-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    align-items: flex-start; 
}

/* Makes the control group inside the report generator grow to fill space. */
.report-controls .control-group {
    flex-grow: 1;
}

/* Container for the "Export as PDF" and "Export as CSV" buttons.
   Applied to: <div class="export-buttons"> */
.export-buttons {
    display: flex;
    gap: 10px;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
}

/* The export buttons themselves.
   Applied to: <button id="exportPdfBtn"> and <button id="exportCsvBtn"> */
.export-buttons button {
    width: 100%;
    background-color: #007bff;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 20px;
    cursor: pointer;
    font-weight: 600;
    transition: background-color 0.3s ease, transform 0.2s ease;
}

/* Hover effect for the export buttons. */
.export-buttons button:hover {
    background-color: #0056b3;
    transform: translateY(-2px);
}

/* Input field for the report email (not present in HTML but styled). */
#reportEmail {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 8px;
}

/* Button for scheduling reports (not present in HTML but styled). */
#scheduleReportBtn {
    background-color: #6c757d;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 20px;
    cursor: not-allowed;
    opacity: 0.6;
    margin-top: 10px;
}


/* --- ADVANCED ANALYTICS SECTION --- */
/* Styles for the collapsible section at the bottom.
   Applied to: <div class="advanced-analytics-section"> */

.advanced-analytics-section {
    padding: 15px;
    background-color: transparent;
    border: none;
    box-shadow: none;
}

/* The button to toggle the advanced section visibility.
   Applied to: <button id="toggleAdvancedBtn" class="advanced-toggle-btn"> */
.advanced-toggle-btn {
    width: 100%;
    background-color: rgba(255, 255, 255, 0.15); 
    backdrop-filter: blur(8px);
    border: 2px solid rgba(255, 255, 255, 0.5);
    color: rgba(255, 255, 255, 0.9);
    padding: 10px 20px;
    cursor: pointer;
    font-size: 1.1em;
    font-weight: 600;
    text-align: left;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s ease;
    border-radius: 20px;
}

/* Hover effect for the toggle button. */
.advanced-toggle-btn:hover {
    background-color: rgba(255, 255, 255, 0.25);
    color: white;
}

/* Rotates the arrow icon when the section is open. */
.advanced-toggle-btn.open .arrow-icon {
    transform: rotate(180deg);
}

/* Changes text color when the section is open. */
.advanced-toggle-btn.open {
    color: white;
}

/* The dropdown arrow icon (▼).
   Applied to: <span class="arrow-icon"> */
.arrow-icon {
    font-size: 1em;
    transition: transform 0.3s ease-in-out;
}

/* Container for the advanced feature cards, hidden by default.
   Applied to: <div id="advanced-features-container"> */
#advanced-features-container {
    margin-top: 20px;
    display: none;
    gap: 20px; 
    align-items: stretch;
}

/* General styling for cards within the advanced section.
   Applied to: .statistical-summary, .key-drivers, .what-if-simulator */
#advanced-features-container .card {
    background-color: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(5px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    border-radius: 20px;
}

/* Flex container for the row of advanced cards.
   Applied to: <div id="advanced-features-container" class="analytics-advanced-row"> */
.analytics-advanced-row {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    align-items: stretch;
}


/* --- STATISTICAL SUMMARY CARD --- */
/* Applied to: <div class="statistical-summary card"> */
.statistical-summary {
    width: 100%; 
}

/* Heading for the statistical summary card.
   Applied to: <h3>Statistical Summary</h3> */
.statistical-summary h3 {
    text-align: left;
    margin-top: 0;
    margin-bottom: 15px;
}

/* Container for the individual stat cards (e.g., Temp stats, pH stats).
   Applied to: <div id="stats-container"> */
#stats-container {
    display: flex;
    flex-direction: row;
    justify-content: center;
    gap: 15px;
    padding-bottom: 15px;
}

/* A single card showing stats (min, max, avg) for one parameter.
   Applied to dynamically generated .stat-card elements. */
.stat-card {
    flex: 0 0 220px;
    background-color: #f8f9fa;
    border-radius: 10px;
    padding: 15px;
    border-left: 5px solid #007bff;
    text-align: left;
}

/* Parameter title in a stat card (e.g., "Temperature"). */
.stat-card h4 {
    margin: 0 0 10px 0;
    font-size: 1.1em;
}

/* Individual stat lines (e.g., "Min: 25°C"). */
.stat-card p {
    margin: 5px 0;
    font-size: 0.95em;
}


/* --- KEY DRIVER & SIMULATOR CARDS --- */
/* Shared styles for Key Driver and What-If Simulator cards.
   Applied to: <div class="key-drivers card"> and <div class="what-if-simulator card"> */
.key-drivers,
.what-if-simulator {
    flex: 1 1 48%;
}

/* Paragraph text within these cards. */
.key-drivers p,
.what-if-simulator p {
    font-size: 0.9em;
    color: #555;
    margin-bottom: 15px;
}

/* Container for the small bar chart in the Key Driver Analysis card.
   Applied to: <div class="chart-container-small"> */
.chart-container-small {
    position: relative;
    height: 280px;
}

/* The canvas for the Key Driver chart.
   Applied to: <canvas id="keyDriverChart"></canvas> */
#keyDriverChart {
    min-width: 350px;
    padding: 0;
    margin: 0;
    box-shadow: none;
    border: none;
}

/* Controls for the "What-If" simulator.
   Applied to: <div class="simulator-controls"> */
.simulator-controls {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

/* A group containing a slider and its label.
   Applied to: <div class="slider-group"> */
.slider-group {
    text-align: left;
}

/* Label for a slider. */
.slider-group label {
    font-weight: 600;
    font-size: 0.9em;
}

/* The range slider input. */
.slider-group input[type="range"] {
    width: 100%;
    cursor: pointer;
}

/* The result area of the simulator.
   Applied to: <div class="simulator-result"> */
.simulator-result {
    margin-top: 20px;
    text-align: center;
}

/* "Predicted Quality" heading. */
.simulator-result h4 {
    margin: 0 0 10px 0;
}


/* --- LLM REASONING BUTTON & MODAL --- */
/* Section containing the AI reasoning button.
   Applied to: <div class="llm-reasoning-section"> */
.llm-reasoning-section {
    display: flex;
    justify-content: center;
    margin: 10px 0;
    width: 100%;
}

/* The "Generate AI Summary" button.
   Applied to: <button id="generateReasoningBtn" class="llm-reasoning-btn"> */
.llm-reasoning-btn {
    background: linear-gradient(45deg, #007bff, #8a2be2);
    color: white;
    padding: 12px 25px;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    font-size: 0.9em;
    font-weight: 600;
    transition: all 0.3s ease;
    box-shadow: 0 0 10px rgba(136, 58, 255, 0.6), 0 0 20px rgba(255, 0, 144, 0.4);
    animation: glowPulse 1.8s ease-in-out infinite;
    overflow: hidden;
    width: 100%;
}

/* Hover effect for the AI button. */
.llm-reasoning-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(138, 43, 226, 0.5);
}

/* Full-screen overlay for the AI reasoning popup modal.
   Applied to: <div id="llmReasoningModal" class="modal-overlay"> */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(5px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000;
}

/* The content box of the modal.
   Applied to: <div class="modal-content"> */
.modal-content {
    background-color: #fff;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 5px 25px rgba(0,0,0,0.2);
    width: 90%;
    max-width: 600px;
    max-height: 80vh;
    display: flex;
    flex-direction: column;
}

/* Header section of the modal containing the title and close button.
   Applied to: <div class="modal-header"> */
.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #e9ecef;
    padding-bottom: 15px;
    margin-bottom: 15px;
}

/* Modal title.
   Applied to: <h2>AI Generated Reasoning</h2> */
.modal-header h2 {
    margin: 0;
    font-size: 1.5em;
    color: #333;
}

/* The '×' button to close the modal.
   Applied to: <button id="closeLlmModalBtn" class="modal-close-btn"> */
.modal-close-btn {
    background: none;
    border: none;
    font-size: 2em;
    cursor: pointer;
    color: #6c757d;
    line-height: 1;
}

/* The main body of the modal where content is displayed.
   Applied to: <div class="modal-body"> */
.modal-body {
    overflow-y: auto;
    text-align: left;
}

/* Paragraphs inside the AI result container. */
#llmResultContainer p {
    line-height: 1.6;
    margin-bottom: 1em;
}

/* Emphasized (italic) text inside the AI result container. */
#llmResultContainer em {
    color: #555;
    font-style: italic;
}

/* Loading spinner shown while waiting for the AI response.
   Applied to: <div id="llmLoadingSpinner" class="loading-spinner"> */
.loading-spinner {
    border: 5px solid #f3f3f3;
    border-top: 5px solid #007bff;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 1s linear infinite;
    margin: 20px auto;
}

/* --- Styles for Cleanup Confirmation Modal --- */
.modal-content.wide-modal {
    max-width: 800px;
    position: relative;
}

.modal-title-icon-wrapper {
    display: flex;
    align-items: center;
    gap: 15px;
}

.modal-icon-svg.warning-icon svg {
    width: 36px;
    height: 36px;
}

.confirmation-text {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
}

.taglish-warning {
    font-size: 1.1em;
    /* Larger font for the main warning */
    margin: 0;
}

.taglish-warning .english-translation {
    display: block;
    /* Puts the English text on a new line */
    font-size: 0.8em;
    /* Smaller font relative to its parent */
    font-style: italic;
    color: #6c757d;
}

.tooltip-icon.small {
    width: 18px;
    height: 18px;
    font-size: 0.8em;
}

.preview-controls {
    display: flex;
    flex-direction: column;
    /* Stack controls vertically */
    gap: 15px;
    margin: 20px 0 10px 0;
}

.preview-control-group {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    /* Allows wrapping on small screens */
}

.preview-controls .filter-input {
    width: 100%;
    /* Make search bar full width */
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
}

.action-button,
#tablePreviewSelect {
    width: auto;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    margin-left: 10px;
}

#cleanupPreviewTable {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9em;
}

#cleanupPreviewTable th,
#cleanupPreviewTable td {
    padding: 8px 10px;
    text-align: left;
    border-bottom: 1px solid #eee;
}

#cleanupPreviewTable th {
    background-color: #f8f9fa;
}

/* --- Styles for Sortable Preview Table Header --- */
#cleanupPreviewTable th.sortable {
    cursor: pointer;
    position: relative;
}

#cleanupPreviewTable th.sortable:hover {
    background-color: #e9ecef;
    /* Light grey hover effect */
}

#cleanupPreviewTable tr:hover {
    background-color: #e9ecef;
    /* Light grey hover effect */
}

/* Style for the sort icon (up/down arrows) */
.sort-icon {
    font-size: 0.8em;
    margin-left: 5px;
    color: #6c757d;
    display: inline-block;
    width: 1em;
    /* Prevents layout shift when icon appears */
}

#previewPagination {
    margin-top: 10px;
}


/* --- Styles for Export Preview in Modal --- */
.export-preview-section {
    margin-top: 20px;
    margin-bottom: 20px;
    padding-top: 20px;
    border-top: 1px solid #e9ecef;
}

.export-preview-section h4 {
    text-align: left;
    margin-top: 0;
    margin-bottom: 15px;
    color: #333;
    font-size: 1.1em;
}

.export-buttons-group {
    display: flex;
    gap: 10px;
    flex-wrap: wrap; /* Allows buttons to stack on smaller screens */
}

.export-buttons-group .action-button {
    flex: 1 1 150px; /* Allows buttons to grow and shrink */
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    background-color: #6c757d;
    color: white;
    font-weight: 600;
}

.export-buttons-group .action-button:hover {
    background-color: #5a6268;
}

.btn-icon {
    width: 16px;
    height: 16px;
    fill: currentColor;
}

/* --- AI REASONING MODAL STYLES --- */

/* You can reuse the keyframes if it's already in your CSS file.
   If not, make sure it's included. */
@keyframes sliding-gradient-border {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Apply the animated border to the AI reasoning modal's content area */
#llmReasoningModal .modal-content {
    --border-thickness: 4px; /* A slightly thicker border for a modal */

    /* 1. The border is made transparent so the gradient can show through. */
    border: var(--border-thickness) solid transparent;

    /* 2. We define two background layers: a solid white for the content
       and an animated gradient for the border. */
    background-image:
        linear-gradient(to right, #ffffff, #ffffff),
        linear-gradient(90deg, #8a2be2, #007bff, #4682b4, #007bff, #8a2be2);
    
    /* 3. We clip the white background to the inside (padding-box) and the
       gradient to the outside (border-box). */
    background-clip:
        padding-box,
        border-box;

    /* 4. Both backgrounds start from the same outer edge. */
    background-origin: border-box;

    /* Make the gradient wider for a smooth sliding animation */
    background-size: 200% 100%;

    /* Apply the animation */
    animation: sliding-gradient-border 4s ease-in-out infinite;
}

/* Animation for the loading spinner. */
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}


/* --- RESPONSIVE STYLES FOR ANALYTICS PAGE --- */
/* Media queries to adjust the layout for different screen sizes. */

/* For tablets and smaller desktops (max-width: 992px) */
@media (max-width: 992px) {
    /* Stack advanced analytics cards vertically. */
    .analytics-advanced-row {
        flex-direction: column; 
        align-items: stretch; 
    }
    /* Reduce the minimum height of the main chart. */
    .analytics-top-row .chart-container-large {
        min-height: 400px; 
    }
    /* Ensure the chart does not overflow the viewport. */
    #historicalChart {
        max-width: 100vw;
        max-height: 100vh;
    }
    /* Ensure the table does not overflow its container. */
    #historicalDataTable {
        width: 100%;
        border-collapse: collapse;
    }
    /* Adjust filter controls layout. */
    .analytics-controls {
        flex-direction: row;
        gap: 25px;
    }
    /* Make control groups take full width. */
    .control-group {
        width: 100%;
        min-height: 100%;
    }
    /* Center the export buttons. */
    .export-buttons {
        justify-content: center;
    }
    /* Allow horizontal scrolling for the table on smaller screens. */
    .table-wrapper {
        font-size: 0.8em;
        overflow-x: auto;
    }
    /* Make advanced cards take full width. */
    .analytics-advanced-row .card {
        width: 100%;
    }
    /* Stack statistical summary items. */
    .statistical-summary {
        flex-direction: column;
    } 
    /* Arrange stat cards in a 2-column grid. */
    #stats-container {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
    }
}

/* For mobile devices (max-width: 576px) */
@media (max-width: 576px) {
    /* Reduce padding and gaps on the main page. */
    .analytics-page {
        padding: 10px;
        gap: 15px;
    }
    /* Reduce padding on cards. */
    .analytics-controls,
    .table-container,
    .report-generator {
        padding: 15px;
    }
    /* Arrange parameter checkboxes in a 2-column grid. */
    .parameter-checkboxes {
        display: grid;
        grid-template-columns: 1fr 1fr; 
        gap: 10px;
    }
    /* Stack export buttons vertically. */
    .export-buttons {
        flex-direction: column;
        align-items: stretch; 
    }
    /* Make export buttons full width. */
    .export-buttons button {
        width: 100%;
        text-align: center;
    }
    /* Adjust large chart container height and padding. */
    .chart-container-large {
        height: 100%; 
        padding: 10px;
    }
    /* Set max height for the chart. */
    #historicalChart {
        max-height: 80vh;
    }
    /* Adjust table wrapper size and font. */
    .table-wrapper {
        font-size: 0.8em;
        width: 80vw;
    }
    /* Enable vertical scroll within the table itself if needed. */
    #historicalDataTable {
        overflow-y: scroll;
    }
    /* Reduce padding and font size in the table for smaller screens. */
    #historicalDataTable th, #historicalDataTable td {
        padding: 8px; 
        font-size: 0.85em; 
    }
    /* Reduce size of pagination buttons. */
    .pagination-controls button {
        padding: 6px 12px;
        font-size: 0.9em;
    }
    /* Reduce size of quality badges. */
    .quality-badge {
        font-size: 0.8em;
        padding: 3px 8px;
    }
    /* Remove padding from the advanced analytics section container. */
    .advanced-analytics-section {
        padding: 0;
    }
    /* Reduce gap and margin for advanced features. */
    #advanced-features-container {
        gap: 15px; 
        margin-top: 10px;
    }
    /* Remove padding from the statistical summary container. */
    .statistical-summary {
        padding: 0;
    }
    /* Arrange stat cards in a single column grid. */
    #stats-container {
        display: grid;
        grid-template-columns: repeat(1, 1fr); 
        gap: 1rem;
        padding: 10px;
    }
    /* Make stat cards take up most of the screen width. */
    .stat-card {
        min-width: 80vw;
    }
    /* Adjust heading size in stat cards. */
    .stat-card h4 {
        margin: 0 0 5px 0;
        font-size: 1em;
    }
    /* Adjust font size for paragraphs in advanced cards. */
    .key-drivers p, .what-if-simulator p {
        font-size: 0.85em;
    }
    /* Make the key driver chart responsive. */
    #keyDriverChart {
        min-width: 80vw;
    }
}
